@model DropDownList.Models.DropDownViewModel


<br />
<h1>Discount Page</h1>
<br />

@using (Ajax.BeginForm("Index", "DP", new AjaxOptions { HttpMethod = "Post", UpdateTargetId = "result" }))
{
    @Html.ValidationSummary(true)
    <fieldset name="fieldset" id="fieldset">
        Company:<br>
        <select name="ID">
            <option>Select Company:</option>
            @foreach (var data in Model.NameDropDownProperty)
            {
                <option value="@data.ID">@data.company_name</option>
            }
        </select><br>
        Discount:<br>
        <select name="Discount">
            <option>Select Discount:</option>
            @foreach (var data in Model.DiscountDropDownProperty)
            {
                <option value="@data.ID">@data.Discount</option>
            }
        </select><br />
        Units: <br />
        <input type="text" id="units" min="0" name="units" /><br />

        Sum without discount: <br />
        <input type="text" id="withoutDiscount" min="0" step="0.1" name="withoutdiscount" />

    </fieldset>
    <p>
        <input type="submit" value="Calculate Price" onclick="return inputCheck()" />
    </p>
}

<div id="result" name="result">
    
</div>

<script type="text/javascript">
    function inputCheck() {
        var units = document.getElementById("units").value;
        var withoutDiscount = document.getElementById("withoutDiscount").value;       
        var regex = /^\d*\.?\d*$/;
        var regex2 = /^[0-9]+([,.][0-9]+)?$/g;
        if (!units.match(regex)) {
            alert("Please enter number in 'Units' field! ");
            return false;
        }

        if (!withoutDiscount.match(regex2)) {
            alert("Please enter number in 'Sum without discount' field! ");
            return false;
        }
    }
</script>  